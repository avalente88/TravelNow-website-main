<!DOCTYPE html>
<html lang="pt">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Plano de Viagem</title>
      <link rel="stylesheet" href="/styles/styles.css" />
      <link rel="stylesheet" href="/styles/datepicker.css" />
      <script type="module" src="/scripts/itinerary.js"></script>
      <script type="module" src="/scripts/render.js"></script>
      <script type="module" src="/scripts/generic.js"></script>
      <script type="module" src="/scripts/search.js"></script>
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400..700&family=Great+Vibes&display=swap" rel="stylesheet">
   </head>
   <body>
      <!-- Top Navigation Bar -->
      <nav class="top-navbar">
         <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="/contacts.html">Contactos</a></li>
         </ul>
      </nav>
      <!-- Hero -->
      <header class="header-top" id="home">
         <div class="profile-container">
            <img src="/Images/Designer.png" alt="Mala de Sonhos by Ana Valente">
         </div>
      </header>
      <main class="container">
         <!-- Resumo -->
         <section id="resumo" class="card">
            <h2 class="section-title">Resumo</h2>
            <div class="grid-2">
               <div>
                  <p id="itineraryRoute"><strong>Itiner√°rio: </strong> <!-- Nome √© preenchido por JS --></p>
               </div>
               <div style="display: flex; justify-content: space-between; align-items: center;">
                  <div class="left">
                    <p class="total" id="dayNumber"><!-- Valor √© preenchido por JS --></p>
                  </div>
                  <div class="right">
                    <p class="total" id="totalPrice"><!-- Valor √© preenchido por JS --></p>
                  </div>
                </div>
            </div>
         </section>
         <!-- Galeria de fotos do destino -->
         <section id="fotos" class="card">
            <h2 class="section-title">Fotos do destino</h2>
            <div class="gallery" id="imageGalery">
               <!-- Lista √© gerada por JS -->
            </div>
         </section>
         <section id="nota" class="card">
            <div class="notice notice-banner" role="note" aria-label="Aviso">
               Este plano √© apresentado inicialmente com um pre√ßo indicativo. Dever√° colocar uma data para pre√ßos mais pr√≥ximos da realidade.
               O pre√ßo total apresentado √© sempre por pessoa em quarto duplo e com mala de por√£o no voos.
            </div>
            <!-- resto do conte√∫do -->
         </section>
         <!-- Voos -->
         <!-- Pesquisa din√¢mica de voos -->
         <section id="flight-search" class="card" aria-label="Pesquisar voos">
            <h2 class="section-title">Pesquisar por data</h2>
            
            <form id="flightSearchForm" class="flight-row" onsubmit="return false;">
              <div class="flight-input">
                <label for="departureDate"><strong>Data de partida</strong></label><br/>
                <input type="date" id="departureDate" name="departureDate"
                      required class="mds-date-input" autocomplete="off"/>
              </div>

              <button id="btnSearchFlights" class="btn-search" type="button">
                Procurar voos
              </button>
            </form>
            <p id="flightSearchHint" class="muted" style="margin-top:8px;">
               Escolha a data e clique em <em>Procurar voos</em>. Os resultados ir√£o atualizar a tabela abaixo.
            </p>
         </section>
         <section id="voos" class="card">
            <h2 class="section-title">Voos</h2>
            <table aria-label="Voos" id="flightTable">
               <thead>
                  <tr>
                     <th>Origem</th>
                     <th>Destino</th>
                     <th>Tempo</th>
                     <th>Escala</th>
                     <th class="right">Pre√ßo Indicativo</th>
                  </tr>
               </thead>
               <tbody> 
                  <!-- Lista √© gerada por JS -->
               </tbody>
            </table>
         </section>
         <!-- Hot√©is (com links) -->
         <section id="hoteis" class="card">
            <h2 class="section-title">Hot√©is</h2>
            <table id="hotelsTable" aria-label="Hot√©is">
               <thead>
                  <tr>
                     <th>Hotel</th>
                     <th>Local</th>
                     <th>Noites</th>
                     <th>Regime</th>
                     <th class="right">Pre√ßo Indicativo</th>
                  </tr>
               </thead>
               <tbody>
                   <!-- Lista √© gerada por JS -->
               </tbody>
            </table>
            <p class="muted">üëâ Os pre√ßos indicados s√£o indicativos e n√£o alteram com a altera√ß√£o de data.</p>
         </section>
         <!-- ========================= -->
         <!-- PLANO DI√ÅRIO COM DETALHES EM LINHA -->
         <!-- ========================= -->
         <section id="plano" class="card">
            <h2 class="section-title">Plano di√°rio</h2>
            <!-- Legenda e a√ß√µes -->
            <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; margin-bottom:10px;">
               <p class="muted" style="margin:0;">
                  <span id="tagFlight" class="tag tag-voo">avi√£o</span>
                  <span id="tagTour" class="tag tag-tour">tour</span>
                  <span id="tagBus" class="tag tag-autocarro">autocarro</span>
                  <span id="tagFerry" class="tag tag-ferry">ferry</span>
                  <span id="tagTrain" class="tag tag-comboio">comboio</span>
                  <span id="tagRoad" class="tag tag-estrada">estrada</span>
               </p>
               <div style="display:flex; gap:8px;">
                  <button type="button" class="btn-outline" id="expandAll">Expandir todos</button>
                  <button type="button" class="btn-outline" id="collapseAll">Ocultar todos</button>
               </div>
            </div>
            <!-- Lista √© gerada por JS -->
            <div id="dailyList" ></div>
         </section>

         <section id="restaurantes" class="card">
            <h2 class="section-title">Restaurantes</h2>

            <div class="resto-grid">

            </div>
         </section>

         <!-- Tours sugeridos -->
         <section id="toursSection" class="card">
            <h2 class="section-title">Tours e transportes sugeridos</h2>
            <table aria-label="Tours" id="tourTable"> 
               <thead>
                  <tr>
                     <th>Tour</th>
                     <th>Local</th>
                     <th>Pre√ßo</th>
                  </tr>
               </thead>
               <tbody>
                  <!-- Lista √© gerada por JS -->
               </tbody>
              </table>
         </section>
      </main>
      <footer>
         <p>&copy; Mala de Sonhos ‚Ä¢ Ana Valente </p>
      </footer>
      <script src="/scripts/datepicker.js"></script>
      <script>
         window.FLIGHTS_API_URL = '/api/flights';
      </script>
      <script src="/scripts/search-flights.js"></script>
      <div id="priceModal" class="modal" aria-hidden="true"> <div class="modal-content"> <button type="button" id="closePriceModal" class="modal-close">&times;</button> <h2>Pre√ßo atualizado</h2> <p id="priceModalText"></p> </div> </div>  
   </body>
</html>